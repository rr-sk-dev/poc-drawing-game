(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&f(d)}).observe(document,{childList:!0,subtree:!0});function E(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(n){if(n.ep)return;n.ep=!0;const r=E(n);fetch(n.href,r)}})();const t=document.getElementById("canvas");t.width=window.innerWidth;t.height=window.innerHeight*.4;const o=t.getContext("2d",{willReadFrequently:!0});o.fillStyle="white";o.fillRect(0,0,t.width,t.height);const l={backgroundColor:"white",color:"pink",penWidth:2};let c=!1,s=[],i=-1;t.addEventListener("touchstart",m,!1);t.addEventListener("touchmove",p,!1);t.addEventListener("mousedown",m,!1);t.addEventListener("mousemove",p,!1);t.addEventListener("touchend",u,!1);t.addEventListener("mouseup",u,!1);t.addEventListener("mouseout",u,!1);const w=document.getElementById("undo-btn");w.addEventListener("click",B);const L=document.getElementById("clear-btn");L.addEventListener("click",y);const v=document.querySelectorAll(".color");v.forEach(e=>e.addEventListener("click",I));const b=document.getElementById("color-picker");b.onchange=e=>{l.color=e.target.value};const k=document.getElementById("color-range");k.addEventListener("change",e=>{l.penWidth=e.target.value});const h=e=>e.clientX||e.touches[0].clientX,g=e=>e.clientY||e.touches[0].clientY;function m(e){c=!0,o.beginPath(),o.moveTo(h(e)-t.offsetLeft,g(e)-t.offsetTop),e.cancelable&&e.preventDefault()}function p(e){c&&(o.lineTo(h(e)-t.offsetLeft,g(e)-t.offsetTop),o.strokeStyle=l.color,o.lineWidth=l.penWidth,o.lineCap="round",o.lineJoin="",o.stroke()),e.cancelable&&e.preventDefault()}function u(e){c&&(o.stroke(),o.closePath(),c=!1),e.cancelable&&e.preventDefault(),(e.type!=="mouseout"||e.type!=="touchend")&&(s.push(o.getImageData(0,0,t.width,t.height)),i+=1)}function I(e){l.color=window.getComputedStyle(e.target).getPropertyValue("background-color")}function B(){i<=0?y():(i-=1,s.pop(),o.putImageData(s[i],0,0))}function y(){o.fillStyle=l.backgroundColor,o.clearRect(0,0,t.width,t.height),o.fillRect(0,0,t.width,t.height),s=[],i=-1}
